<!DOCTYPE html>
<!-- https://sdils.github.io/StockPage-DEV/ -->
<html>
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta charset="utf-8">
      <!-- Favicon Generated from https://realfavicongenerator.net/ -->
      <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
      <link rel="manifest" href="img/site.webmanifest">
      <link rel="mask-icon" href="img/safari-pinned-tab.svg" color="#5bbad5">
      <meta name="msapplication-TileColor" content="#da532c">
      <meta name="theme-color" content="#ffffff">
      <title>My Stocks!</title>
   </head>
   <!-- <body onload="loadTickerHistory()"> -->
   <body>
      <h2>Ticker Lookup</h2>
      
      
      <label for="ticker">Ticker</label>
      <input type="text" id="ticker_input" name="ticker" value="BNS.TO"><br><br>
      
      
      <button id="getTickerHist" type="button" onclick="loadTickerHistory()">Get Ticker History</button>

      <!-- <p id="demo"></p>-->
     
      <pre id="demo" class="prettyprint json"/>

      <!-- <pre>
         <code id="demo" class="prettyprint"></code>
      </pre> -->
      <script>
         function loadTickerHistory() {
            
            //https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=ZQQ.TO&outputsize=compact&apikey=NITDY4YEPF7745VF
            
            var av_baseURI = "https://www.alphavantage.co/query?";
            var av_function = "function=TIME_SERIES_DAILY";
            //var av_symbol = "symbol=CNR.TO";
            var ticker_value = document.getElementById("ticker_input").value;
            var av_symbol = "symbol="  
            av_symbol = av_symbol.concat(ticker_value);
            
            var av_outputsize = "outputsize=compact";
            var av_apikey = "apikey=NITDY4YEPF7745VF";

            
            
            var request_url = av_baseURI.concat(av_function,"&",av_symbol,"&",av_outputsize,"&",av_apikey);
            
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
              //document.getElementById("demo").innerHTML = this.responseText;
              document.getElementById("demo").textContent = this.responseText;
              }
            };
            xhttp.open("GET",request_url,true);
            //xhttp.open("GET", "https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=CNR.TO&outputsize=compact&apikey=NITDY4YEPF7745VF", true);
            xhttp.send();
         }
         

      </script>
      <!-- <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script> -->
      <!-- <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?autoload=true&amp;skin=desert&amp;lang=css&amp;lang=ml"></script> -->
   </body>
   <footer>
      <div>Icons made by <a href="https://www.flaticon.com/authors/pixel-perfect" title="Pixel perfect">Pixel perfect</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
   </footer>
</html>